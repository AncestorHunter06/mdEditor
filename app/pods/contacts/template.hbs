{{!-- <h3>Contacts Dashboard</h3>
<hr>
<div class="container-fluid">
  <table class="table table-striped table-hover">
    <thead>
      <tr>
        <th></th>
        <th>#</th>
        <th>Contact ID</th>
        <th>Name</th>
        <th>E-mail</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      {{#each model as |item index|}}
        <tr>
          <td>{{input type="checkbox" name="isChecked"}}</td>
          <td>{{index}}</td>
          <td>{{item.shortId}}</td>
          <td>{{item.title}}</td>
          <td>{{item.json.electronicMailAddress.[0]}}</td>
          <td>
            <div class="pull-right md-dashboard-buttons">
              {{control/md-status
                model=item
                isBtn=true
                hideSlider=true
                showSlider=(route-action "showSlider" item)
              }}
              {{#link-to "contact.show" item.id class="btn btn-sm btn-info"}}
                {{fa-icon "eye"}} Show
              {{/link-to}}
              <button type="button" class="btn btn-sm btn-success" {{action "editItem" item}}>
                {{fa-icon "pencil"}} Edit
              </button>
              {{#control/md-button-modal class="btn btn-sm btn-danger" message="<h1>Do
            you really want to delete this contact?</h1>Be sure this contact is
            not referenced by a metadata record or dictionary or it's deletion
            may cause those records to fail validation." onConfirm=(route-action "deleteItem" item)}}
                <span class="fa fa-times"></span> Delete
              {{/control/md-button-modal}}
              {{control/md-json-button class="btn-sm btn-primary" json=item.cleanJson}}
            </div>
          </td>
        </tr>
      {{else}}
        <tr>
          <td colspan=5>
            {{#link-to "contact.new" class="btn btn-primary btn-lg" }}
              {{fa-icon "plus"}} Create a Contact{{/link-to}}
          </td>
        </tr>
      {{/each}}
    </tbody>
  </table>
</div> --}}

<h3 class="text-info">{{fa-icon "users"}} Contacts</h3>
{{#layout/md-card
  collapsible=true
  collapsed=false
  shadow=true
}}
{{!-- <h3>{{section.meta.title}}</h3> --}}
{{control/md-record-table
  data=model
  dataColumns=(compute (route-action "getColumns") section.meta.type)
  allActions=true
}}
{{/layout/md-card}}

{{outlet}}
{{#if errorTarget}}
  {{to-elsewhere
    named="md-slider-error"
    send=(hash
      title=(concat "Viewing errors for: " errorTarget.title)
      body=(component "control/md-errors"
        errors=errorTarget.hasSchemaErrors
      )
    )
  }}
{{/if}}
